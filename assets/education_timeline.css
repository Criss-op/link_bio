/* ==========================
   Education timeline module
   Contract:
   - Mobile (initial): <details> vertical con línea izquierda.
   - Desktop (md+): carrusel horizontal con línea central y cards alternadas.
   - Overlay: #edu-overlay (JS lo controla).
   ========================== */

:root {
   --edu-accent: rgba(100, 255, 218, 0.85);
   --edu-accent-soft: rgba(100, 255, 218, 0.18);
   --edu-line: rgba(100, 255, 218, 0.3);

   --edu-bg: rgba(8, 12, 12, 0.55);
   --edu-panel: rgba(10, 14, 14, 0.72);
   --edu-card: rgba(0, 0, 0, 0.34);

   --edu-border: rgba(100, 255, 218, 0.16);
   --edu-border-strong: rgba(100, 255, 218, 0.28);

   --edu-text-dim: rgba(255, 255, 255, 0.72);

   --edu-radius: 18px;
   --edu-card-radius: 16px;

   --edu-card-w-md: 320px;
   --edu-card-w-lg: 320px;

   --edu-stagger: 76px; /* alternancia arriba/abajo */
}

/* wrapper general del módulo */
.edu-shell {
   width: 100%;
   border-radius: var(--edu-radius);
   background: linear-gradient(180deg, rgba(10, 14, 14, 0.55), rgba(0, 0, 0, 0.35));
   border: 1px solid var(--edu-border);
   box-shadow: 0 10px 40px rgba(0, 0, 0, 0.35);
   overflow: hidden;
}

/* ancho RESPONSIVE + “gutter” seguro */
.edu-shell {
   width: 100%;
   max-width: 100%;
   margin-left: auto;
   margin-right: auto;
   box-sizing: border-box;
}

@media (min-width: 768px) {
   .edu-shell {
      max-width: min(900px, 100%);
      padding-left: 0;
      padding-right: 0;
   }
}

@media (min-width: 1024px) {
   .edu-shell {
      max-width: min(1100px, 100%);
   }
}

/* ==========
   VISIBILIDAD
   ========== */
.edu-mobile {
   display: block;
}
.edu-desktop {
   display: none;
}

@media (min-width: 768px) {
   .edu-mobile {
      display: none;
   }
   .edu-desktop {
      display: block;
   }
}

/* ======================
   DESKTOP (md y lg): track
   ====================== */

.edu-desktop {
   position: relative;
   padding: 18px 18px 14px;
   background: radial-gradient(circle at 10% 0%, rgba(100, 255, 218, 0.08), transparent 45%);
}

.edu-viewport {
   position: relative;
   overflow-x: auto;
   overflow-y: hidden;
   -webkit-overflow-scrolling: touch;
   scroll-behavior: smooth;
   border-radius: calc(var(--edu-radius) - 6px);
   background: var(--edu-bg);
   border: 1px solid rgba(255, 255, 255, 0.06);
}

/* scrollbar (suave, no invasivo) */
.edu-viewport::-webkit-scrollbar {
   height: 10px;
}
.edu-viewport::-webkit-scrollbar-track {
   background: rgba(255, 255, 255, 0.04);
   border-radius: 999px;
}
.edu-viewport::-webkit-scrollbar-thumb {
   background: rgba(100, 255, 218, 0.22);
   border-radius: 999px;
}
.edu-viewport:hover::-webkit-scrollbar-thumb {
   background: rgba(100, 255, 218, 0.32);
}

.edu-track {
   position: relative;
   display: flex;
   align-items: center;
   gap: 22px;
   padding: 32px 22px;
   min-height: 560px; /* +20% aprox para posicionar mejor */

   width: max-content; /* clave: el track se expande al contenido */
   min-width: 100%; /* pero nunca menos que el viewport */
}

/* línea central horizontal (la “timeline”) */
.edu-track::before {
   content: "";
   position: absolute;
   left: 22px;
   right: 22px;
   top: 50%;
   height: 2px;
   transform: translateY(-50%);
   pointer-events: none;

   /* Antes: transparent, line, transparent (solo fuerte al centro) */
   background: linear-gradient(
      90deg,
      transparent 0%,
      var(--edu-line) 8%,
      var(--edu-line) 92%,
      transparent 100%
   );
}

/* =========
   CARDS
   ========= */

.edu-card {
   width: var(--edu-card-w-md);
   min-height: 150px;
   position: relative;
   border-radius: var(--edu-card-radius);
   padding: 14px 72px 12px 14px;
   background: var(--edu-card);
   border: 1px solid var(--edu-border);
   box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
   cursor: pointer;
   user-select: none;
   flex: 0 0 auto; /* clave: evita shrink */

   /* contrato para hover sin romper alternancia */
   --edu-y: 0px;
   transform: translateY(var(--edu-y));
   transition:
      transform 160ms ease,
      border-color 160ms ease,
      box-shadow 160ms ease,
      background 160ms ease;
}

/* Overlay base para tintado por tipo */
.edu-card::after {
   content: "";
   position: absolute;
   inset: 0;
   border-radius: inherit;
   pointer-events: none;
   opacity: 0.08; /* intensidad del color */
   background: transparent;
   transition: opacity 160ms ease;
}

/* Titulación → rojo suave */
.edu-card[data-type*="Titul"]::after,
.edu-card[data-type*="TITUL"]::after {
   background: rgba(255, 90, 90, 1);
}

/* Diplomado → amarillo suave */
.edu-card[data-type*="Diplom"]::after,
.edu-card[data-type*="DIPLOM"]::after {
   background: rgba(255, 210, 80, 1);
}

/* Hover: un poco más visible */
.edu-card:hover::after {
   opacity: 0.12;
}

/* Texto final después del último hito (desktop) */
.edu-endcap {
   flex: 0 0 auto;
   align-self: center;
   margin-left: 18px;

   padding: 8px 12px;
   border-radius: 999px;

   font-size: 13px;
   letter-spacing: 0.02em;
   font-style: italic;
   color: rgba(255, 255, 255, 0.78);

   /* esto es lo que tapa la línea */
   background: rgba(8, 12, 12, 0.92);
   border: 1px solid rgba(100, 255, 218, 0.22);

   user-select: none;
   pointer-events: none;
   white-space: nowrap;

   opacity: 0.92;
   animation: edu-continue-pulse 1.8s ease-in-out infinite;
}

@keyframes edu-continue-pulse {
   0%,
   100% {
      opacity: 0.7;
      transform: translateY(0);
   }
   50% {
      opacity: 1;
      transform: translateY(-4px);
   }
}

.edu-card:focus-visible {
   outline: 2px solid rgba(100, 255, 218, 0.55);
   outline-offset: 4px;
}

/* alternancia */
.edu-card--top {
   --edu-y: calc(var(--edu-stagger) * -1);
}
.edu-card--bottom {
   --edu-y: var(--edu-stagger);
}

.edu-card--top:hover {
   transform: translateY(calc(var(--edu-y) - 6px));
   border-color: var(--edu-border-strong);
   box-shadow: 0 14px 36px rgba(0, 0, 0, 0.38);
}
.edu-card--bottom:hover {
   transform: translateY(calc(var(--edu-y) + 6px));
   border-color: var(--edu-border-strong);
   box-shadow: 0 14px 36px rgba(0, 0, 0, 0.38);
}

/* conector y nodo hacia la línea central */
.edu-card::before {
   content: "";
   position: absolute;
   left: 22px;
   width: 2px;
   height: 24px;
   background: rgba(100, 255, 218, 0.28);
}

.edu-card::after {
   content: "";
   position: absolute;
   left: 17px;
   width: 12px;
   height: 12px;
   border-radius: 999px;
   border: 2px solid rgba(100, 255, 218, 0.7);
   background: rgba(0, 0, 0, 0.55);
   box-shadow: 0 0 0 6px rgba(100, 255, 218, 0.06);
}

.edu-card--top::before {
   bottom: -24px;
}
.edu-card--top::after {
   bottom: -32px;
}

.edu-card--bottom::before {
   top: -24px;
}
.edu-card--bottom::after {
   top: -32px;
}

/* --- Alineación dinámica a la línea central (JS) --- */
.edu-track.edu-has-dyn .edu-card::before {
   top: var(--edu-connector-top);
   bottom: auto;
   height: var(--edu-connector-h);
}

.edu-track.edu-has-dyn .edu-card::after {
   top: var(--edu-node-top);
   bottom: auto;
}

/* contenido interno card */
.edu-chip {
   display: inline-flex;
   align-items: center;
   gap: 8px;
   padding: 5px 10px;
   border-radius: 999px;
   font-size: 12px;
   font-weight: 600;
   color: rgba(255, 255, 255, 0.86);
   background: rgba(100, 255, 218, 0.1);
   border: 1px solid rgba(100, 255, 218, 0.2);
}
/* Variantes por tipo (md/lg) */
.edu-card[data-type*="Titul"] .edu-chip,
.edu-card[data-type*="TITUL"] .edu-chip {
   background: rgba(255, 90, 90, 0.1);
   border-color: rgba(255, 90, 90, 0.26);
}

.edu-card[data-type*="Diplom"] .edu-chip,
.edu-card[data-type*="DIPLOM"] .edu-chip {
   background: rgba(255, 210, 80, 0.1);
   border-color: rgba(255, 210, 80, 0.26);
}
/* Variantes por tipo (mobile initial) */
.edu-m-item[data-type*="Titul"] .edu-chip,
.edu-m-item[data-type*="TITUL"] .edu-chip {
   background: rgba(255, 90, 90, 0.1);
   border-color: rgba(255, 90, 90, 0.26);
}

.edu-m-item[data-type*="Diplom"] .edu-chip,
.edu-m-item[data-type*="DIPLOM"] .edu-chip {
   background: rgba(255, 210, 80, 0.1);
   border-color: rgba(255, 210, 80, 0.26);
}

/* (opcional) Curso mantiene el cian por defecto, no necesitas regla */

.edu-title {
   margin-top: 10px;
   font-size: 15px;
   font-weight: 650;
   line-height: 1.25;

   display: -webkit-box;
   -webkit-box-orient: vertical;
   -webkit-line-clamp: 3;
   overflow: hidden;
}

.edu-org {
   margin-top: 6px;
   font-size: 13px;
   color: var(--edu-text-dim);
   line-height: 1.25;

   display: -webkit-box;
   -webkit-box-orient: vertical;
   -webkit-line-clamp: 2;
   overflow: hidden;
}

.edu-year {
   margin-top: 6px;
   font-size: 12px;
   letter-spacing: 0.02em;
   color: rgba(255, 255, 255, 0.78);
}

/* logo dentro de card */
.edu-logo {
   position: absolute;
   top: 12px;
   right: 12px;
   width: 44px;
   height: 44px;
   object-fit: contain;
   opacity: 0.92; /* NO oscuro */
   filter: none; /* NO gris */
   transform: translateZ(0);
}
.edu-card:hover .edu-logo {
   opacity: 1;
}

/* ======================
   OVERLAY (detalle md/lg)
   ====================== */

#edu-overlay {
   position: fixed;
   inset: 0;
   display: none;
   align-items: center;
   justify-content: center;
   padding: 18px;
   background: rgba(0, 0, 0, 0.62);
   z-index: 9999;
}

#edu-overlay.is-open {
   display: flex;
}

.edu-overlay__panel {
   width: min(760px, 100%);
   border-radius: var(--edu-radius);
   background: rgba(10, 14, 14, 0.86);
   border: 1px solid rgba(100, 255, 218, 0.22);
   box-shadow: 0 20px 70px rgba(0, 0, 0, 0.55);
   padding: 16px 16px 14px;
   position: relative;
}

.edu-overlay__close {
   position: absolute;
   top: 10px;
   right: 10px;
   width: 36px;
   height: 36px;
   border-radius: 999px;
   border: 1px solid rgba(255, 255, 255, 0.14);
   background: rgba(0, 0, 0, 0.25);
   color: rgba(255, 255, 255, 0.88);
   cursor: pointer;
}

.edu-overlay__top {
   display: flex;
   align-items: center;
   gap: 10px;
   padding-right: 44px; /* espacio para el botón */
}

.edu-overlay__logo {
   width: 46px;
   height: 46px;
   object-fit: contain;
   opacity: 0.95;
}

.edu-overlay__meta {
   display: flex;
   flex-direction: column;
   gap: 4px;
}

.edu-overlay__title {
   margin-top: 10px;
   font-size: 18px;
   font-weight: 700;
   line-height: 1.25;
}

.edu-overlay__org {
   margin-top: 6px;
   font-size: 14px;
   color: var(--edu-text-dim);
}

.edu-overlay__year {
   margin-top: 6px;
   font-size: 12px;
   color: rgba(255, 255, 255, 0.78);
}

.edu-bullets {
   margin-top: 12px;
   padding-left: 18px;
}
.edu-bullets li {
   margin: 8px 0;
   color: rgba(255, 255, 255, 0.86);
}
.edu-bullets li::marker {
   color: rgba(100, 255, 218, 0.7);
}

/* ======================
   MOBILE (initial): vertical
   ====================== */

.edu-mobile {
   padding: 16px 16px 14px;
   background: radial-gradient(circle at 10% 0%, rgba(100, 255, 218, 0.08), transparent 45%);
}

.edu-mobile-list {
   position: relative;
   border-radius: calc(var(--edu-radius) - 6px);
   background: var(--edu-bg);
   border: 1px solid rgba(255, 255, 255, 0.06);
   --edu-m-dot-top: 18px; /* mismo top que usa el nodo */
   --edu-m-dot-size: 12px; /* mismo tamaño del nodo */
   padding: 12px 12px 12px 22px; /* deja espacio a la línea */
}

.edu-mobile-list::before {
   content: "";
   position: absolute;
   left: 14px;
   top: var(--edu-m-line-top, 14px);
   bottom: var(--edu-m-line-bottom, 14px);
   width: 2px;
   background: rgba(100, 255, 218, 0.24);
}

.edu-m-item {
   position: relative;
   margin: 10px 0;
   border-radius: var(--edu-card-radius);
   background: rgba(0, 0, 0, 0.3);
   border: 1px solid rgba(100, 255, 218, 0.14);
   overflow: visible;
}

.edu-m-item summary {
   list-style: none;
   cursor: pointer;
   padding: 12px 12px 10px;
   display: flex;
   align-items: center;
   justify-content: space-between;
   gap: 12px;
}
.edu-m-item summary::-webkit-details-marker {
   display: none;
}
/* Nodo + conector correctamente alineados a la línea (mobile) */
.edu-m-item summary {
   position: relative;
}

/* nodo (pelotita) centrado respecto al summary */
.edu-m-item summary::before {
   content: "";
   position: absolute;
   left: -8px; /* línea está en 14px y el contenido empieza en 22px => 14-22 = -8 */
   top: 50%;
   transform: translate(-50%, -50%);
   width: 12px;
   height: 12px;
   border-radius: 999px;
   border: 2px solid rgba(100, 255, 218, 0.7);
   background: rgba(0, 0, 0, 0.55);
   box-shadow: 0 0 0 6px rgba(100, 255, 218, 0.06);
   pointer-events: none;
}

/* conector horizontal desde la línea hacia el borde de la card */
.edu-m-item summary::after {
   content: "";
   position: absolute;
   left: -8px; /* mismo anclaje del nodo */
   top: 50%;
   transform: translateY(-50%);
   width: 14px; /* conecta hacia la card */
   height: 2px;
   background: rgba(100, 255, 218, 0.28);
   pointer-events: none;
}

.edu-m-summary-left {
   display: flex;
   flex-direction: column;
   align-items: flex-start;
   gap: 6px;
   min-width: 0;
}

.edu-caret {
   font-size: 14px;
   color: rgba(255, 255, 255, 0.75);
   transform: rotate(0deg);
   transition: transform 140ms ease;
}
.edu-m-item[open] .edu-caret {
   transform: rotate(90deg);
   color: rgba(255, 255, 255, 0.86);
}

.edu-m-chiprow {
   display: inline-flex;
   align-items: center;
   gap: 10px;
}

.edu-m-summary-title {
   font-size: 13.5px;
   font-weight: 650;
   line-height: 1.25;
   color: rgba(255, 255, 255, 0.9);
   white-space: normal;
   overflow-wrap: anywhere;
   max-width: 100%;
}

.edu-m-summary-right {
   display: inline-flex;
   align-items: center;
   gap: 10px;
   flex-shrink: 0;
}

.edu-m-logo {
   width: 34px;
   height: 34px;
   object-fit: contain;
   opacity: 0.92;
   filter: none;
}

.edu-m-body {
   padding: 0 12px 12px;
}

.edu-m-title {
   margin-top: 4px;
   font-size: 14px;
   font-weight: 700;
   line-height: 1.25;
}

.edu-m-org {
   margin-top: 6px;
   font-size: 13px;
   color: var(--edu-text-dim);
}

.edu-m-year {
   font-size: 12px;
   color: rgba(255, 255, 255, 0.78);
}

.edu-m-ul {
   margin-top: 10px;
   padding-left: 18px;

   list-style: disc; /* fuerza marker */
   list-style-position: outside;
}

.edu-m-ul li {
   margin: 7px 0;
   color: rgba(255, 255, 255, 0.86);

   display: list-item; /* por si algún reset lo deja en flex/block raro */
}

.edu-m-ul li::marker {
   color: rgba(100, 255, 218, 0.7);
}
/* ===== Tint por tipo: borde + fondo sutil (md/lg) ===== */

/* Base: asegura que el fondo pueda tener overlay sin romper nada */
.edu-card {
   background-color: var(--edu-card);
   background-image: none;
}

/* TITULACIÓN (rojo suave) */
.edu-card[data-type*="Titul"],
.edu-card[data-type*="TITUL"] {
   border-color: rgba(255, 90, 90, 0.26);
   background-image: linear-gradient(180deg, rgba(255, 90, 90, 0.1), rgba(255, 90, 90, 0.03));
}

/* DIPLOMADO (amarillo suave) */
.edu-card[data-type*="Diplom"],
.edu-card[data-type*="DIPLOM"] {
   border-color: rgba(255, 210, 80, 0.24);
   background-image: linear-gradient(180deg, rgba(255, 210, 80, 0.1), rgba(255, 210, 80, 0.03));
}

/* Hover: que no vuelva al cian */
.edu-card[data-type*="Titul"]:hover,
.edu-card[data-type*="TITUL"]:hover {
   border-color: rgba(255, 90, 90, 0.36);
}

.edu-card[data-type*="Diplom"]:hover,
.edu-card[data-type*="DIPLOM"]:hover {
   border-color: rgba(255, 210, 80, 0.34);
}
/* ===== Tint por tipo: mobile initial ===== */
.edu-m-item {
   background-color: rgba(0, 0, 0, 0.3);
   background-image: none;
}

.edu-m-item[data-type*="Titul"],
.edu-m-item[data-type*="TITUL"] {
   border-color: rgba(255, 90, 90, 0.22);
   background-image: linear-gradient(180deg, rgba(255, 90, 90, 0.08), rgba(255, 90, 90, 0.02));
}

.edu-m-item[data-type*="Diplom"],
.edu-m-item[data-type*="DIPLOM"] {
   border-color: rgba(255, 210, 80, 0.2);
   background-image: linear-gradient(180deg, rgba(255, 210, 80, 0.08), rgba(255, 210, 80, 0.02));
}
