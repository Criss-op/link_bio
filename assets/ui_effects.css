:root {
   --mx: 50%;
   --my: 40%;
   --navbar-safe-top: 116px; /* si queda mucha separación baja a 108-112 */
   --rails-bottom: 0px;
}

body {
   background-color: #0a0a0a;
}

/* ===== Cursor spotlight (debe ir SOBRE estrellas, BAJO contenido) ===== */
.cursor-spotlight {
   position: fixed;
   inset: 0;
   pointer-events: none;
   z-index: 1;
   background: radial-gradient(
      circle 650px at var(--mx) var(--my),
      rgba(100, 255, 218, 0.12) 0%,
      rgba(100, 255, 218, 0.06) 20%,
      transparent 60%
   );
}

/* ===== Global stars canvas (debe ir al fondo, pero visible) ===== */
#site-stars {
   position: fixed;
   inset: 0;
   pointer-events: none;
   z-index: 0;
   overflow: hidden;

   /* opcional: no ensucia el extremo inferior */
   -webkit-mask-image: linear-gradient(to bottom, #000 0%, #000 92%, transparent 100%);
   mask-image: linear-gradient(to bottom, #000 0%, #000 92%, transparent 100%);

   opacity: 1;
   transition: opacity 180ms ease;
}

#site-stars canvas {
   width: 100%;
   height: 100%;
   display: block;
}

/* Drawer abierto: baja protagonismo */
:root[data-drawer-open="true"] #site-stars {
   opacity: 0.28;
}

/* ===== Scroll container (SIEMPRE arriba del canvas) ===== */
.scroll-container {
   height: 100vh;
   overflow-y: auto;
   position: relative;
   z-index: 2;

   /* clave: si por alguna razón te quedó un fondo opaco aquí, mata el canvas */
   background: transparent !important;
}

.section {
   scroll-snap-align: start;
   position: relative;
   z-index: 2;
}

#inicio {
   min-height: 100vh;
}

/* ===== Navbar ===== */
.navbar-wrapper {
   pointer-events: none;
   position: relative;
   z-index: 1101;
}

.navbar-pill {
   pointer-events: auto;
   background: rgba(10, 25, 47, 0.35);
   border: 2px solid rgba(35, 53, 84, 0.5);
   border-radius: 9999px;
   padding: 0.65rem 1.25rem;
   box-shadow: 0 8px 20px rgba(2, 12, 27, 0.2);
   transition:
      background 200ms ease,
      border-color 200ms ease,
      box-shadow 200ms ease;
   backdrop-filter: blur(10px);
}
/* Cuando el drawer está abierto: el pill no debe verse (evita “círculo” detrás de la X) */
:root[data-drawer-open="true"] .navbar-pill {
   background: transparent !important;
   border-color: transparent !important;
   box-shadow: none !important;
   backdrop-filter: none !important;
}

:root[data-in-hero="false"] .navbar-pill {
   background: rgba(16, 16, 16, 0.72);
   border-color: rgba(100, 255, 218, 0.1);
   box-shadow: 0 12px 30px rgba(0, 0, 0, 0.45);
}

:root[data-in-hero="true"] .navbar-pill {
   background: transparent;
   border-color: transparent;
   box-shadow: none;
   backdrop-filter: none;
}
.navbar-link {
   background: transparent;
   border: none;
   padding: 0;
   font-size: 0.95rem;
   cursor: pointer;

   position: relative;
   display: inline-flex;
   align-items: center;

   /* Reserva espacio para la barra arriba */
   padding-top: 10px;
}

.navbar-link::before {
   content: "";
   position: absolute;
   top: 0; /* dentro del link */
   left: 50%;
   width: 62%;
   height: 3px;
   border-radius: 999px;
   background: #64ffda;

   opacity: 0;
   transform: translateX(-50%) scaleX(0);
   transform-origin: center;
   transition:
      opacity 150ms ease,
      transform 150ms ease;
}

.navbar-link.is-active::before {
   opacity: 1;
   transform: translateX(-50%) scaleX(1);
}

/* por si algún contenedor recorta */
.navbar-pill {
   overflow: visible;
}

@media (max-width: 1024px) {
   .navbar-pill {
      padding: 0.85rem 1.25rem;
   }
}

/* Botón hamburguesa: sin bg/borde raro, hover consistente */
.rt-Button.hamburger-btn {
   background: transparent !important;
   border: 0 !important;
   box-shadow: none !important;
   border-radius: 999px !important;
}

/* Hover: mismo “vidrio oscuro” que el resto */
.rt-Button.hamburger-btn:hover {
   background: rgba(16, 16, 16, 0.72) !important;
}

/* Focus accesible y sutil (cian) */
.rt-Button.hamburger-btn:focus-visible {
   outline: 2px solid rgba(100, 255, 218, 0.35);
   outline-offset: 3px;
   box-shadow: none !important;
}

/* ===== Mobile drawer menu ===== */
.mobile-menu-overlay {
   position: fixed;
   inset: 0;
   z-index: 2000;

   /* CERRADO por defecto (overlay siempre montado) */
   visibility: hidden;
   pointer-events: none;

   /* espera a que termine el slide-out antes de ocultar */
   transition: visibility 0s linear 500ms;
}

.mobile-menu-overlay.is-open {
   visibility: visible;
   pointer-events: auto;
   transition: visibility 0s linear 0ms;
}

.mobile-menu-backdrop {
   position: absolute;
   inset: 0;
   background: rgba(0, 0, 0, 0.6);
   backdrop-filter: blur(2px);

   opacity: 0;
   transition: opacity 240ms ease;
}

.mobile-menu-overlay.is-open .mobile-menu-backdrop {
   opacity: 1;
}

.mobile-menu-panel {
   position: absolute;
   top: 0;
   right: 1rem;
   height: 100vh;
   width: min(78vw, 300px);
   background: rgba(16, 16, 16, 0.72);
   border-left: 1px solid rgba(100, 255, 218, 0.1);
   padding: 1.25rem;
   display: flex;
   flex-direction: column;
   gap: 1.25rem;
   overflow-y: auto;
   overscroll-behavior: contain;
   box-shadow: -16px 0 50px rgba(2, 12, 27, 0.45);

   /* SLIDE (cerrado por defecto) */
   transform: translateX(120%);
   transition: transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1);
   will-change: transform;
}

.mobile-menu-overlay.is-open .mobile-menu-panel {
   transform: translateX(0);
}

@media (max-width: 480px) {
   .mobile-menu-panel {
      width: 100vw;
      border-left: none;
   }
}

.mobile-menu-link {
   display: flex;
   width: 100%;
   box-sizing: border-box;
   padding: 0.85rem 0.75rem !important;
   border-radius: 14px !important;
   text-decoration: none;
   background: transparent;
   border: 1px solid transparent;
   font-size: 1.05rem;
   cursor: pointer;
   align-items: center;
   justify-content: flex-start !important;
   text-align: left !important;
   margin: 0 !important;
}

.mobile-menu-panel button.mobile-menu-link {
   justify-content: flex-start !important;
   padding-left: 0.75rem !important;
}

.mobile-menu-link:hover {
   background: rgba(100, 255, 218, 0.08);
   border-color: rgba(100, 255, 218, 0.25);
}

@media (max-width: 480px) {
   .mobile-menu-panel {
      width: 100vw;
      border-left: none;
   }
}

/* ===== Mobile hamburger (hamburguesa ⇄ X) ===== */
.hamburger {
   width: 24px;
   height: 24px;
   display: flex;
   flex-direction: column;
   justify-content: center;
   gap: 5px;
   -webkit-user-select: none;
   user-select: none;
}

.hamburger-line {
   display: block;
   width: 22px;
   height: 2px;
   background: currentColor;
   border-radius: 999px;

   transform-origin: 4px 0px;
   transition:
      transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1),
      opacity 0.55s ease;
}

.hamburger-line:nth-child(1) {
   transform-origin: 0% 0%;
}
.hamburger-line:nth-child(3) {
   transform-origin: 0% 100%;
}

.hamburger.is-open .hamburger-line:nth-child(1) {
   transform: rotate(45deg) translate(2px, 1px);
}

.hamburger.is-open .hamburger-line:nth-child(2) {
   opacity: 0;
   transform: scale(0.2);
}

.hamburger.is-open .hamburger-line:nth-child(3) {
   transform: rotate(-45deg) translate(1px, -1px);
}

/* ===== Cards & effects ===== */
.card {
   transition:
      transform 200ms ease,
      box-shadow 200ms ease,
      border-color 200ms ease,
      background-color 200ms ease;
   background: transparent;
   border-color: transparent;
   box-shadow: none;
}

.card:hover,
.card:focus-within {
   transform: translateY(-2px);
   background: rgba(16, 16, 16, 0.72);
   border-color: rgba(100, 255, 218, 0.35);
   box-shadow: 0 14px 32px rgba(0, 0, 0, 0.45);
}

.avatar-wrap {
   transform-style: preserve-3d;
}

/* ===== Scroll indicator ===== */
.scroll-indicator {
   position: absolute;
   left: 50%;
   bottom: 32px;
   transform: translateX(-50%);
   opacity: 1;
   display: flex;
   flex-direction: column;
   align-items: center;
   gap: 0.35rem;
   font-size: 0.85rem;
   letter-spacing: 0.08em;
   text-transform: uppercase;
   animation: scroll-bounce 1.6s ease-in-out infinite;
   z-index: 2;
   transition: opacity 150ms ease;
}
/* En breakpoint "initial" (mobile / pantallas pequeñas): nunca mostrar el scroll */
@media (max-width: 767px) {
   .scroll-indicator {
      display: none !important;
   }
}

.scroll-indicator::after {
   content: "Scroll";
   font-family: "Fira Code", monospace;
   color: #a8b2d1;
}

/* Fuera del hero: se apaga (y se corta la animación para que no “reviva” opacity) */
:root[data-in-hero="false"] .scroll-indicator {
   opacity: 0 !important;
   pointer-events: none !important;
   visibility: hidden !important;
   animation: none !important;
}
:root:not([data-in-hero="true"]) .scroll-indicator {
   opacity: 0 !important;
   pointer-events: none !important;
   visibility: hidden !important;
   animation: none !important;
}

/* ===== Contact overlay ===== */
.contact-overlay {
   position: fixed;
   inset: 0;
   z-index: 1000;
   display: flex;
   align-items: center;
   justify-content: center;
}

.contact-backdrop {
   position: absolute;
   inset: 0;
   background: rgba(0, 0, 0, 0.55);
}

.contact-phone {
   position: relative;
   z-index: 1;
   width: min(92vw, 390px);
   height: min(80vh, 680px);
   border-radius: 38px;
   border: 2px solid rgba(35, 53, 84, 0.9);
   background: #112240;
   box-shadow: 0 24px 60px rgba(2, 12, 27, 0.45);
   padding: 2rem;
   display: flex;
   flex-direction: column;
   gap: 1.5rem;
   animation: phone-enter 200ms ease;
}

@keyframes phone-enter {
   from {
      opacity: 0;
      transform: translateY(10px);
   }
   to {
      opacity: 1;
      transform: translateY(0);
   }
}

@keyframes scroll-bounce {
   0%,
   100% {
      transform: translate(-50%, 0);
      opacity: 0.9;
   }
   50% {
      transform: translate(-50%, 10px);
      opacity: 0.5;
   }
}

@media (prefers-reduced-motion: reduce) {
   .scroll-indicator,
   .contact-phone,
   .mobile-menu-panel {
      animation: none;
   }
}

@media (pointer: coarse), (hover: none) {
   .cursor-spotlight {
      display: none;
   }

   .scroll-indicator {
      display: none;
   }
}

/* ===== Side rails ===== */
.side-rail {
   position: fixed;
   bottom: var(--rails-bottom, 0px);
   width: 40px;
   z-index: 3;
   display: flex;
   flex-direction: column;
   align-items: center;
   gap: 0.75rem;
   color: #a8b2d1;
   transition: opacity 200ms ease;
   will-change: bottom;
}

.side-rail::after {
   content: "";
   display: block;
   width: 1px;
   height: 120px;
   background: rgba(136, 146, 176, 0.4);
   margin-top: 0.75rem;
   transition: opacity 150ms ease;
}

.side-rail.left {
   left: 32px;
}

.side-rail.right {
   right: 32px;
}

.side-rail a {
   color: inherit;
   transition:
      color 150ms ease,
      transform 150ms ease;
}

.side-rail a:hover {
   color: #64ffda;
   transform: translateY(-2px);
}

.side-rail .email {
   writing-mode: vertical-rl;
   font-family: "Fira Code", monospace;
   font-size: 0.85rem;
   letter-spacing: 0.08em;
}

:root[data-in-hero="true"] .side-rail {
   opacity: 0;
   pointer-events: none;
}

@media (max-width: 1024px) {
   .side-rail {
      display: none;
   }
}

/* ===== Footer ===== */
.footer-accent {
   height: 1px;
   width: calc(100% + 3rem);
   margin-left: -1.5rem;
   margin-right: -1.5rem;
   background: linear-gradient(90deg, rgba(100, 255, 218, 0.4), rgba(10, 25, 47, 0));
}

.footer-microcopy {
   font-family: "Fira Code", monospace;
   font-size: 0.8rem;
   color: #8892b0;
}

.drawer-close {
   position: absolute;
   top: 12px;
   right: 12px;
   z-index: 2;
}

.drawer-links {
   padding-top: 44px; /* deja espacio para la X */
}

/* ===== Avatar frame ===== */
.avatar-frame {
   position: relative;
   display: inline-block;
   padding: 14px;
   border-radius: 80px;

   border: 2px solid rgba(100, 255, 218, 0.88);
   background:
      radial-gradient(500px 360px at 40% 30%, rgba(100, 255, 218, 0.12) 0%, transparent 65%),
      linear-gradient(180deg, rgba(17, 34, 64, 0.52) 0%, rgba(2, 12, 27, 0.26) 100%);

   box-shadow:
      0 0 0 1px rgba(100, 255, 218, 0.18),
      0 22px 80px rgba(2, 12, 27, 0.65),
      0 0 55px rgba(100, 255, 218, 0.16);
}

.avatar-frame::after {
   content: "";
   position: absolute;
   inset: 9px;
   border-radius: 72px;
   border: 1px solid rgba(100, 255, 218, 0.24);
   box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.03);
   pointer-events: none;
}

.avatar-inner {
   border-radius: 80px;
   overflow: hidden;
   background: rgba(17, 34, 64, 0.6);
   box-shadow: inset 0 0 0 1px rgba(35, 53, 84, 0.85);
}

.avatar-img {
   display: block;
   border-radius: inherit;
}
/* ===== SITE STARS: debe quedar DETRÁS del contenido ===== */
#site-stars {
   position: absolute; /* importante: ya no fixed */
   inset: 0;
   pointer-events: none;
   z-index: 0 !important;
   overflow: hidden;
}

#site-stars canvas {
   width: 100%;
   height: 100%;
   display: block;
}

/* El contenedor scrolleable y las secciones por encima */
#page-scroll,
.scroll-container,
.section {
   position: relative !important;
   z-index: 1 !important;
}
.name-sparkle-wrap {
   display: flex;
   align-items: center;
   line-height: 0;

   /* ESTE es el espacio real que ocupa en el layout */
   width: 70px; /* ajusta: 12px más pegado / 26px más separado */
   flex: 0 0 18px;

   overflow: visible; /* deja que el SVG se vea hacia afuera */
}

.name-sparkle-wrap.left {
   justify-content: flex-end;
} /* pegado al nombre */
.name-sparkle-wrap.right {
   justify-content: flex-start;
} /* pegado al nombre */

.name-sparkle-wrap svg {
   display: block;
   transform: translateY(4px); /* 0–2px si necesitas micro-ajuste vertical */
}

.hero-name {
   margin: 0;
}
/* Evita overflow horizontal del Hero en mobile (sparkles/glow/carrusel) */
@media (max-width: 767px) {
   #inicio {
      overflow-x: hidden;
   }
}
/* ===== Scrollbar (solo para el contenedor real de scroll) ===== */
#page-scroll {
   /* Firefox */
   scrollbar-width: 14px;
   scrollbar-color: rgba(100, 255, 218, 0.35) rgba(10, 10, 10, 0.55);

   /* Evita saltos cuando aparece/desaparece la scrollbar (Chrome/Edge modernos) */
   scrollbar-gutter: stable;
}

/* Chrome / Edge / Safari */
#page-scroll::-webkit-scrollbar {
   width: 14px;
}

#page-scroll::-webkit-scrollbar-track {
   background: rgba(10, 10, 10, 0.55);
   border-left: 1px solid rgba(100, 255, 218, 0.08);
}

#page-scroll::-webkit-scrollbar-thumb {
   background: rgba(16, 16, 16, 0.72);
   border: 1px solid rgba(100, 255, 218, 0.22);
   border-radius: 999px;
}

#page-scroll::-webkit-scrollbar-thumb:hover {
   background: rgba(16, 16, 16, 0.86);
   border-color: rgba(100, 255, 218, 0.35);
}

#page-scroll::-webkit-scrollbar-corner {
   background: transparent;
}
